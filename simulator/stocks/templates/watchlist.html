{% extends "base.html" %}

{% block content %}

<h1>WatchList</h1>
</br>

    <form action ="{% url 'watchlist' %}" class="d-flex" role="search" method="POST">
    {% csrf_token %}
        <input class="form-control mr-sm-2" type="search" placeholder="Add Stock Prediction" aria-label="Search" style="width: 230px; height: 45px" name="ticker">
        <button class="btn btn-outline-secondary my-2 my-sm-0" type="submit">Search</button>
    </form>

    </br></br>

    {% if api %}
    {% if api == "Error" %}
        There was a problem with your ticker symbol, please try again...
    {% else %}
        <h1>{{ api.longName }}</h1>
        <br/>
            <table class="table table-striped table-bordered table-hover">
               <thead class="table-dark">
                <tr>
                  <th scope="col">Company Name</th>
                  <th scope="col">Stock Price</th>
                  <th scope="col">Market Cap</th>
                  <th scope="col">Total Revenue</th>
                  <th scope="col">Previous Close</th>
                  <th scope="col">52Wk High</th>
                  <th scope="col">52Wk Low</th>
                </tr>
              </thead>
              <tbody>
                    <tr>
                        <th scope="row"> {{ api.longName }}</th>
                        <td>${{ api.currentPrice }}</td>
                        <td>${{ api.marketCap }}</td>
                        <td>${{ api.totalRevenue }}</td>
                        <td>${{ api.previousClose }}</td>
                        <td>${{ api.fiftyTwoWeekHigh }}</td>
                        <td>${{ api.fiftyTwoWeekLow }}</td>
                    </tr>
              </tbody>
            </table>
            <br/>
    {% endif %}
{% endif %}


{% endblock %}